<!DOCTYPE html>
<html>
  <head>
    <script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
  </head>
  <body>
    <h1>Functions & validation</h1>

    <form id="form1" action="#" onsubmit="return validateForm(this);">
      first name: <input type="text" name="firstname" /><br />
      last name: <input type="text" name="lastname" /><br />
      password: <input type="text" name="password" /><br />

      <button>Check</button>
    </form>

    <hr />
    <div id="message"></div>

    <script>
      // Function to validate passwords
      function validatePassword(password) {
        // Check if the password has at least 8 characters
        if (password.length < 8) {
          return false;
        }

        // Check if the password contains at least one uppercase letter
        if (!/[A-Z]/.test(password)) {
          return false;
        }

        // Check if the password contains at least one lowercase letter
        if (!/[a-z]/.test(password)) {
          return false;
        }

        // If all checks pass, the password is valid
        return true;
      }

      const validateForm = (myForm) => {
        var firstname = myForm.firstname.value; // get text of firstname field
        var lastname = myForm.lastname.value; // get text of lastname field
        var password = myForm.password.value; // get text of password field

        // update 'message' DIV with appropriate wording
        $("#message").html("Button clicked");

        // Validate user-entered password
        if (!validatePassword(password)) {
          $("#message").html("Invalid password. Password should have at least 8 characters, at least one uppercase letter, and at least one lowercase letter.");
          return false;
        }

        // Verify first and last name values are NOT missing
        if (!firstname || !lastname) {
          $("#message").html("Please enter both first name and last name.");
          return false;
        }

        // Show a message if all 3 fields are valid
        $("#message").html("All form entries are valid.");
        return false; // prevent page reload
      };
    </script>
  </body>
</html>
